<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç | –û–±—â–∞–π—Å—è –ª–µ–≥–∫–æ - –Ω–∞ –õ–∞–∑—É—Ä–∫–µ!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            color: #333;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo .flag {
            font-size: 2rem;
            margin-right: 10px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logout-button {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .logout-button:hover {
            background: white;
            color: #667eea;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .welcome-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .welcome-section h1 {
            color: #2d3748;
            margin-bottom: 15px;
        }

        .access-info {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .info-card {
            background: #f8f9fa;
            padding: 15px 25px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .info-card .label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .info-card .value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2d3748;
        }

        .progress-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .progress-bar {
            background: #e2e8f0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .lessons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .lesson-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .lesson-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .lesson-card.completed {
            border-left: 5px solid #48bb78;
        }

        .lesson-number {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 50px;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .lesson-card.completed .lesson-number {
            background: #48bb78;
        }

        .lesson-card h3 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .lesson-card p {
            color: #666;
            margin-bottom: 15px;
        }

        .lesson-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #999;
        }

        .completed-badge {
            background: #48bb78;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .start-button {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-button:hover {
            background: #5568d3;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .access-info {
                flex-direction: column;
            }

            .lessons-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">
                <span class="flag">üá´üá∑</span>
                –û–±—â–∞–π—Å—è –ª–µ–≥–∫–æ - –Ω–∞ –õ–∞–∑—É—Ä–∫–µ!
            </div>
            <div class="user-info">
                <span id="userEmail"></span>
                <button class="logout-button" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="welcome-section">
            <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç!</h1>
            <p>–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥—ë—Ç–µ –≤—Å–µ 10 —É—Ä–æ–∫–æ–≤ –∫—É—Ä—Å–∞. –ü—Ä–æ—Ö–æ–¥–∏—Ç–µ –∏—Ö –≤ —É–¥–æ–±–Ω–æ–º —Ç–µ–º–ø–µ.</p>
            
            <div class="access-info">
                <div class="info-card">
                    <div class="label">–î–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏</div>
                    <div class="value" id="purchaseDate">--</div>
                </div>
                <div class="info-card">
                    <div class="label">–î–æ—Å—Ç—É–ø –¥–æ</div>
                    <div class="value" id="expiryDate">--</div>
                </div>
                <div class="info-card">
                    <div class="label">–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π</div>
                    <div class="value" id="daysLeft">--</div>
                </div>
            </div>
        </div>

        <div class="progress-section">
            <h2>–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <p id="progressText">–ü—Ä–æ–π–¥–µ–Ω–æ —É—Ä–æ–∫–æ–≤: 0 –∏–∑ 10</p>
        </div>

        <h2 style="margin-bottom: 30px;">–£—Ä–æ–∫–∏ –∫—É—Ä—Å–∞</h2>
        <div class="lessons-grid" id="lessonsGrid">
            <!-- –£—Ä–æ–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <script>
        const lessons = [
            {
                id: 1,
                title: 'Bonjour, C√¥te d\'Azur!',
                description: '–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –≤–µ–∂–ª–∏–≤—ã–µ —Ñ—Ä–∞–∑—ã',
                duration: '18 –º–∏–Ω'
            },
            {
                id: 2,
                title: 'Promenade des Anglais –∏ –ø–ª—è–∂–∏',
                description: '–ö–∞–∫ —Å–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Ä–æ–≥—É, –∑–∞–∫–∞–∑–∞—Ç—å –ª–µ–∂–∞–∫, –æ–±—â–µ–Ω–∏–µ –Ω–∞ –ø–ª—è–∂–µ',
                duration: '20 –º–∏–Ω'
            },
            {
                id: 3,
                title: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ø–æ –õ–∞–∑—É—Ä–∫–µ',
                description: '–ü–æ–µ–∑–¥ TER, –∞–≤—Ç–æ–±—É—Å, —è—Ö—Ç–∞ - –ø–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è',
                duration: '22 –º–∏–Ω'
            },
            {
                id: 4,
                title: '–û—Ç–µ–ª—å –∏ –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã',
                description: '–ó–∞—Å–µ–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å—å–±—ã –Ω–∞ —Ä–µ—Å–µ–ø—à–Ω, —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –≤ –Ω–æ–º–µ—Ä–µ',
                duration: '19 –º–∏–Ω'
            },
            {
                id: 5,
                title: '–ü—Ä–æ–≤–∞–Ω—Å–∞–ª—å—Å–∫–∞—è –∫—É—Ö–Ω—è',
                description: '–†–µ—Å—Ç–æ—Ä–∞–Ω, –º–µ–Ω—é, –∑–∞–∫–∞–∑ –±–ª—é–¥ –∏ –Ω–∞–ø–∏—Ç–∫–æ–≤, —Å—á—ë—Ç',
                duration: '25 –º–∏–Ω'
            },
            {
                id: 6,
                title: '–®–æ–ø–∏–Ω–≥ –∏ —Ä—ã–Ω–∫–∏',
                description: '–ö–∞–∫ —Å–ø—Ä–æ—Å–∏—Ç—å —Ü–µ–Ω—É, —Ç–æ—Ä–≥–æ–≤–∞—Ç—å—Å—è, –ø—Ä–∏–º–µ—Ä–∫–∞ –æ–¥–µ–∂–¥—ã',
                duration: '17 –º–∏–Ω'
            },
            {
                id: 7,
                title: '–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
                description: '–ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –≤ –º—É–∑–µ–∏, –ø–∞—Ä–∫–∏, —ç–∫—Å–∫—É—Ä—Å–∏–∏',
                duration: '21 –º–∏–Ω'
            },
            {
                id: 8,
                title: '–Ø—Ö—Ç—ã, –ú–æ–Ω–∞–∫–æ –∏ –∫–∞–∑–∏–Ω–æ',
                description: '–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞ –¥–ª—è VIP-–ª–æ–∫–∞—Ü–∏–π –†–∏–≤—å–µ—Ä—ã',
                duration: '23 –º–∏–Ω'
            },
            {
                id: 9,
                title: '–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã',
                description: '–ê–ø—Ç–µ–∫–∞, –ø–æ–ª–∏—Ü–∏—è, –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –≤–µ—â–∏, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å',
                duration: '16 –º–∏–Ω'
            },
            {
                id: 10,
                title: '–ü—Ä–æ—â–∞–Ω–∏–µ –∏ ¬´je reviens!¬ª',
                description: '–ö–∞–∫ –∫—Ä–∞—Å–∏–≤–æ –ø–æ–ø—Ä–æ—â–∞—Ç—å—Å—è –∏ –ø–æ–æ–±–µ—â–∞—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è',
                duration: '15 –º–∏–Ω'
            }
        ];

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function checkAuth() {
            const userData = localStorage.getItem('courseUser');
            if (!userData) {
                window.location.href = 'login.html';
                return null;
            }

            const user = JSON.parse(userData);
            const expiryDate = new Date(user.expiryDate);
            const now = new Date();

            if (now > expiryDate) {
                alert('–í–∞—à –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É –∏—Å—Ç—ë–∫. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–¥–ª–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É.');
                logout();
                return null;
            }

            return user;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function loadProgress() {
            const progress = localStorage.getItem('courseProgress');
            return progress ? JSON.parse(progress) : {};
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function saveProgress(progress) {
            localStorage.setItem('courseProgress', JSON.stringify(progress));
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
        function displayUserInfo(user) {
            document.getElementById('userEmail').textContent = user.email;

            const purchaseDate = new Date(user.purchaseDate);
            const expiryDate = new Date(user.expiryDate);
            const now = new Date();

            document.getElementById('purchaseDate').textContent = purchaseDate.toLocaleDateString('ru-RU');
            document.getElementById('expiryDate').textContent = expiryDate.toLocaleDateString('ru-RU');

            const daysLeft = Math.ceil((expiryDate - now) / (1000 * 60 * 60 * 24));
            document.getElementById('daysLeft').textContent = daysLeft;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤
        function displayLessons() {
            const progress = loadProgress();
            const lessonsGrid = document.getElementById('lessonsGrid');
            
            lessons.forEach(lesson => {
                const isCompleted = progress[lesson.id] || false;
                
                const card = document.createElement('div');
                card.className = `lesson-card ${isCompleted ? 'completed' : ''}`;
                card.onclick = () => openLesson(lesson.id);
                
                card.innerHTML = `
                    <div class="lesson-number">${lesson.id}</div>
                    <h3>${lesson.title}</h3>
                    <p>${lesson.description}</p>
                    <div class="lesson-meta">
                        <span>‚è±Ô∏è ${lesson.duration}</span>
                        ${isCompleted ? 
                            '<span class="completed-badge">‚úì –ü—Ä–æ–π–¥–µ–Ω</span>' : 
                            '<button class="start-button" onclick="event.stopPropagation(); openLesson(' + lesson.id + ')">–ù–∞—á–∞—Ç—å</button>'
                        }
                    </div>
                `;
                
                lessonsGrid.appendChild(card);
            });

            updateProgress(progress);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress(progress) {
            const completedCount = Object.values(progress).filter(v => v).length;
            const percentage = (completedCount / lessons.length) * 100;

            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressBar').textContent = Math.round(percentage) + '%';
            document.getElementById('progressText').textContent = `–ü—Ä–æ–π–¥–µ–Ω–æ —É—Ä–æ–∫–æ–≤: ${completedCount} –∏–∑ ${lessons.length}`;
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–∫–∞
        function openLesson(lessonId) {
            window.location.href = `lesson.html?id=${lessonId}`;
        }

        // –í—ã—Ö–æ–¥
        function logout() {
            localStorage.removeItem('courseUser');
            window.location.href = 'login.html';
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.addEventListener('load', function() {
            const user = checkAuth();
            if (user) {
                displayUserInfo(user);
                displayLessons();
            }
        });
    </script>
</body>
</html>
